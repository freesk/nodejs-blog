extends layout

block content
  h1= title
  if posts.length > 0
  each post in posts
    .post
      h1.title
        a(href='/blog/posts/show/#{post._id}')= post.title
      p
        span Posted in
        a(href='/blog/categories/show/#{post.category.title}' class='category-link') #{post.category.title}
        span by #{post.author.username} on #{moment(post.date).format("MM-DD-YYYY")}
      if post.image
        img(src='#{post.image}' style='max-width:100%;').img-rounded
      p(style='margin-top: 10px;')!=truncateText(post.body, 400)
      a.btn.btn-default.btn-lg(href='/blog/posts/show/#{post._id}') Read More
  else
    p.noposts There are no posts to display

  style.
    h1.title {
      border-top: 1px #ccc solid;
      padding-top: 10px;
    }
    .category-link {
      margin-left: 0.3rem;
      margin-right: 0.3rem;
    }
